\hypertarget{class_threaded}{
\section{Threaded Class Reference}
\label{class_threaded}\index{Threaded@{Threaded}}
}


{\ttfamily \#include $<$threaded.h$>$}

Inheritance diagram for Threaded:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_threaded}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_threaded_a6236a842ddac09f974c58e17680d41c0}{Threaded} (const int id, const int command\_\-interval)
\item 
\hypertarget{class_threaded_af4018740c234ef4c815cccffe3b5842b}{
virtual \hyperlink{class_threaded_af4018740c234ef4c815cccffe3b5842b}{$\sim$Threaded} ()}
\label{class_threaded_af4018740c234ef4c815cccffe3b5842b}

\begin{DoxyCompactList}\small\item\em Destructor. \end{DoxyCompactList}\item 
\hypertarget{class_threaded_aea595e9821bf79d59e0bbcc146ddee93}{
virtual void \hyperlink{class_threaded_aea595e9821bf79d59e0bbcc146ddee93}{start} ()=0}
\label{class_threaded_aea595e9821bf79d59e0bbcc146ddee93}

\begin{DoxyCompactList}\small\item\em Start the main processing loop \hyperlink{class_threaded_a585d28f8e23a343428f62e0479dda13c}{run()} in its own thread of execution. \end{DoxyCompactList}\item 
\hypertarget{class_threaded_a1f6908a34c9981fa4afde713edd5571f}{
virtual void \hyperlink{class_threaded_a1f6908a34c9981fa4afde713edd5571f}{join} ()=0}
\label{class_threaded_a1f6908a34c9981fa4afde713edd5571f}

\begin{DoxyCompactList}\small\item\em Wait for the main processing loop/thread to exit. \end{DoxyCompactList}\item 
virtual void \hyperlink{class_threaded_a52a40998cd6f4b995ceaba12899b4212}{cmd\_\-stop} ()=0
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{class_threaded_a585d28f8e23a343428f62e0479dda13c}{
virtual void \hyperlink{class_threaded_a585d28f8e23a343428f62e0479dda13c}{run} ()=0}
\label{class_threaded_a585d28f8e23a343428f62e0479dda13c}

\begin{DoxyCompactList}\small\item\em Main processing loop. \end{DoxyCompactList}\item 
virtual void \hyperlink{class_threaded_a421b31c46443970af90b8fa1df8ea141}{handle\_\-stop} ()=0
\item 
\hypertarget{class_threaded_aff05e9339cefd2099cc8a6f02ae24b5f}{
virtual void \hyperlink{class_threaded_aff05e9339cefd2099cc8a6f02ae24b5f}{handle\_\-idle} ()=0}
\label{class_threaded_aff05e9339cefd2099cc8a6f02ae24b5f}

\begin{DoxyCompactList}\small\item\em Command handler. Handles the IDLE state. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{class_threaded_a87e8f1fa2f61c5c19a2db4efb42514f5}{
const int \hyperlink{class_threaded_a87e8f1fa2f61c5c19a2db4efb42514f5}{\_\-id}}
\label{class_threaded_a87e8f1fa2f61c5c19a2db4efb42514f5}

\begin{DoxyCompactList}\small\item\em A unique identifier for this object. \end{DoxyCompactList}\item 
\hypertarget{class_threaded_a64973538e05bdc59d7805934e1e71fb6}{
const int \hyperlink{class_threaded_a64973538e05bdc59d7805934e1e71fb6}{\_\-command\_\-interval}}
\label{class_threaded_a64973538e05bdc59d7805934e1e71fb6}

\begin{DoxyCompactList}\small\item\em The command interval. \end{DoxyCompactList}\item 
bool \hyperlink{class_threaded_a96b6bd60b0eb14d91ea26b1eac61064c}{\_\-running}
\item 
\hypertarget{class_threaded_a1b5743e4ff905449d292ab1017b0acaa}{
boost::thread \hyperlink{class_threaded_a1b5743e4ff905449d292ab1017b0acaa}{\_\-thread}}
\label{class_threaded_a1b5743e4ff905449d292ab1017b0acaa}

\begin{DoxyCompactList}\small\item\em The thread data structure. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
This is the Abstract Base Class for all classes that require a separate thread for executing their main procesing loop. 

Definition at line 38 of file threaded.h.



\subsection{Constructor \& Destructor Documentation}
\hypertarget{class_threaded_a6236a842ddac09f974c58e17680d41c0}{
\index{Threaded@{Threaded}!Threaded@{Threaded}}
\index{Threaded@{Threaded}!Threaded@{Threaded}}
\subsubsection[{Threaded}]{\setlength{\rightskip}{0pt plus 5cm}Threaded::Threaded (
\begin{DoxyParamCaption}
\item[{const int}]{id, }
\item[{const int}]{command\_\-interval}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{class_threaded_a6236a842ddac09f974c58e17680d41c0}
Constructor. 
\begin{DoxyParams}{Parameters}
{\em id} & A unique id for this object. Used for logging. \\
\hline
{\em command\_\-interval} & The main executin thread in \hyperlink{class_threaded_a585d28f8e23a343428f62e0479dda13c}{run()} will attempt to check for new commands every command\_\-interval seconds. The actual interval between checks may be larger than this if the execution thread spends longer than command\_\-interval processing individual tasks. \\
\hline
\end{DoxyParams}


Definition at line 52 of file threaded.h.


\begin{DoxyCode}
                                 :
  _id(id),
    _command_interval(command_interval),
    _running(false),
    _thread() {}
\end{DoxyCode}


\subsection{Member Function Documentation}
\hypertarget{class_threaded_a52a40998cd6f4b995ceaba12899b4212}{
\index{Threaded@{Threaded}!cmd\_\-stop@{cmd\_\-stop}}
\index{cmd\_\-stop@{cmd\_\-stop}!Threaded@{Threaded}}
\subsubsection[{cmd\_\-stop}]{\setlength{\rightskip}{0pt plus 5cm}virtual void Threaded::cmd\_\-stop (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}pure virtual\mbox{]}}}}
\label{class_threaded_a52a40998cd6f4b995ceaba12899b4212}
External API command. Insert a STOP command into the object's command queue for processing. 

Implemented in \hyperlink{class_file_writer_ad0a98ab099aaca2f64875ace82fadd55}{FileWriter}, \hyperlink{class_net_reader_a8ba627314d064cb636f192974e4daed6}{NetReader}, and \hyperlink{class_stats_writer_abb59955e991765cd648bf65c58749f4f}{StatsWriter}.

\hypertarget{class_threaded_a421b31c46443970af90b8fa1df8ea141}{
\index{Threaded@{Threaded}!handle\_\-stop@{handle\_\-stop}}
\index{handle\_\-stop@{handle\_\-stop}!Threaded@{Threaded}}
\subsubsection[{handle\_\-stop}]{\setlength{\rightskip}{0pt plus 5cm}virtual void Threaded::handle\_\-stop (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected, pure virtual\mbox{]}}}}
\label{class_threaded_a421b31c46443970af90b8fa1df8ea141}
Command handler. Handles the STOP command/state. On receiving this command, the \hyperlink{class_file_writer}{FileWriter} object will stop processing and exit the \hyperlink{class_threaded_a585d28f8e23a343428f62e0479dda13c}{run()} method at the next opportunity. 

Implemented in \hyperlink{class_file_writer_aad41d68744863310432de1b9e046023c}{FileWriter}, \hyperlink{class_net_reader_a6b81e13eba7624570bfd0ed90874069c}{NetReader}, and \hyperlink{class_stats_writer_aa3fbb751b426a75bb161a52f06d74803}{StatsWriter}.



\subsection{Member Data Documentation}
\hypertarget{class_threaded_a96b6bd60b0eb14d91ea26b1eac61064c}{
\index{Threaded@{Threaded}!\_\-running@{\_\-running}}
\index{\_\-running@{\_\-running}!Threaded@{Threaded}}
\subsubsection[{\_\-running}]{\setlength{\rightskip}{0pt plus 5cm}bool {\bf Threaded::\_\-running}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{class_threaded_a96b6bd60b0eb14d91ea26b1eac61064c}
A flag used in the while() conditional at the top of the \hyperlink{class_threaded_a585d28f8e23a343428f62e0479dda13c}{run()} method. The main thread of execution only continuines to execute while \_\-running is true. 

Definition at line 87 of file threaded.h.



The documentation for this class was generated from the following file:\begin{DoxyCompactItemize}
\item 
src/net2disk/threaded.h\end{DoxyCompactItemize}
