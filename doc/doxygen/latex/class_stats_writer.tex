\hypertarget{class_stats_writer}{
\section{StatsWriter Class Reference}
\label{class_stats_writer}\index{StatsWriter@{StatsWriter}}
}


{\ttfamily \#include $<$stats\_\-writer.h$>$}

Inheritance diagram for StatsWriter:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_stats_writer}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_stats_writer_ab5936cac54f3266df9a91cf0c370e291}{StatsWriter} (const int id, const std::string \&stats\_\-file, const int stats\_\-interval, const double command\_\-interval)
\item 
\hypertarget{class_stats_writer_a2fe7212142fecee66fb356244bdd33f8}{
virtual \hyperlink{class_stats_writer_a2fe7212142fecee66fb356244bdd33f8}{$\sim$StatsWriter} ()}
\label{class_stats_writer_a2fe7212142fecee66fb356244bdd33f8}

\begin{DoxyCompactList}\small\item\em Destructor. \end{DoxyCompactList}\item 
\hypertarget{class_stats_writer_aedabf23ca2c014f9a3f24e81ac27781b}{
virtual void \hyperlink{class_stats_writer_aedabf23ca2c014f9a3f24e81ac27781b}{start} ()}
\label{class_stats_writer_aedabf23ca2c014f9a3f24e81ac27781b}

\begin{DoxyCompactList}\small\item\em Start the main processing loop \hyperlink{class_stats_writer_adae8b6f9a5172be2f18d2cbdcb1700b0}{run()} in its own thread of execution. \end{DoxyCompactList}\item 
\hypertarget{class_stats_writer_ac58a3da20e0469fb31215dba379087d7}{
virtual void \hyperlink{class_stats_writer_ac58a3da20e0469fb31215dba379087d7}{join} ()}
\label{class_stats_writer_ac58a3da20e0469fb31215dba379087d7}

\begin{DoxyCompactList}\small\item\em Wait for the main processing loop/thread to exit. \end{DoxyCompactList}\item 
virtual void \hyperlink{class_stats_writer_abb59955e991765cd648bf65c58749f4f}{cmd\_\-stop} ()
\item 
void \hyperlink{class_stats_writer_a4749a7810223ed2b49340fe8aa0b92af}{cmd\_\-write\_\-to\_\-disk} ()
\item 
void \hyperlink{class_stats_writer_a7b73b711a050b4bd17fe7489db8231d4}{update} (const boost::uint64\_\-t \&packets, const boost::uint64\_\-t \&bytes, const boost::uint64\_\-t \&dropped\_\-packets, const boost::uint64\_\-t \&buffer\_\-size)
\end{DoxyCompactItemize}
\subsection*{Protected Types}
\begin{DoxyCompactItemize}
\item 
enum \{ {\bfseries IDLE}, 
{\bfseries WRITE\_\-TO\_\-DISK}, 
{\bfseries STOP}
 \}
\begin{DoxyCompactList}\small\item\em The state of the object. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{class_stats_writer_adae8b6f9a5172be2f18d2cbdcb1700b0}{
virtual void \hyperlink{class_stats_writer_adae8b6f9a5172be2f18d2cbdcb1700b0}{run} ()}
\label{class_stats_writer_adae8b6f9a5172be2f18d2cbdcb1700b0}

\begin{DoxyCompactList}\small\item\em Main processing loop. \end{DoxyCompactList}\item 
virtual void \hyperlink{class_stats_writer_aa3fbb751b426a75bb161a52f06d74803}{handle\_\-stop} ()
\item 
\hypertarget{class_stats_writer_a51a3ee2b174b8ffc227d5bbbcf71c1d1}{
virtual void \hyperlink{class_stats_writer_a51a3ee2b174b8ffc227d5bbbcf71c1d1}{handle\_\-idle} ()}
\label{class_stats_writer_a51a3ee2b174b8ffc227d5bbbcf71c1d1}

\begin{DoxyCompactList}\small\item\em Command handler. Handles the IDLE state. \end{DoxyCompactList}\item 
virtual void \hyperlink{class_stats_writer_a7d25c32ff0f971c9bf04f595eb70c9a0}{handle\_\-write\_\-to\_\-disk} ()
\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{class_stats_writer_a9ff06ffdee4bc6cd5cb4829acbae5f45}{
const int \hyperlink{class_stats_writer_a9ff06ffdee4bc6cd5cb4829acbae5f45}{\_\-stats\_\-interval}}
\label{class_stats_writer_a9ff06ffdee4bc6cd5cb4829acbae5f45}

\begin{DoxyCompactList}\small\item\em The interval between internal statistics updates and dumps to disk. \end{DoxyCompactList}\item 
\hypertarget{class_stats_writer_ac5a9b8e756ebaab1fa390b5ef9574b4c}{
boost::uint64\_\-t \hyperlink{class_stats_writer_ac5a9b8e756ebaab1fa390b5ef9574b4c}{\_\-num\_\-packets}}
\label{class_stats_writer_ac5a9b8e756ebaab1fa390b5ef9574b4c}

\begin{DoxyCompactList}\small\item\em The total number of packets that have been processed so far. \end{DoxyCompactList}\item 
\hypertarget{class_stats_writer_ae2d006b00ac3d7d5b4fdef24f593cb5e}{
boost::uint64\_\-t \hyperlink{class_stats_writer_ae2d006b00ac3d7d5b4fdef24f593cb5e}{\_\-num\_\-bytes}}
\label{class_stats_writer_ae2d006b00ac3d7d5b4fdef24f593cb5e}

\begin{DoxyCompactList}\small\item\em The total number of bytes that have been processed so far. \end{DoxyCompactList}\item 
\hypertarget{class_stats_writer_aa0165232f168f34bfeda9bf4526920ab}{
boost::uint64\_\-t \hyperlink{class_stats_writer_aa0165232f168f34bfeda9bf4526920ab}{\_\-dropped\_\-packets}}
\label{class_stats_writer_aa0165232f168f34bfeda9bf4526920ab}

\begin{DoxyCompactList}\small\item\em The number of dropped packets. \end{DoxyCompactList}\item 
\hypertarget{class_stats_writer_a536e5799c8bb5303591aaaea6ab9ac16}{
boost::uint64\_\-t \hyperlink{class_stats_writer_a536e5799c8bb5303591aaaea6ab9ac16}{\_\-buffer\_\-size}}
\label{class_stats_writer_a536e5799c8bb5303591aaaea6ab9ac16}

\begin{DoxyCompactList}\small\item\em The size of the file buffer. \end{DoxyCompactList}\item 
\hypertarget{class_stats_writer_a7d02d23a29de9b857dfb62aae1d3b582}{
std::ofstream \hyperlink{class_stats_writer_a7d02d23a29de9b857dfb62aae1d3b582}{\_\-stats\_\-stream}}
\label{class_stats_writer_a7d02d23a29de9b857dfb62aae1d3b582}

\begin{DoxyCompactList}\small\item\em Nicely formatted statistics output (useful for real-\/time stats output). \end{DoxyCompactList}\item 
\hypertarget{class_stats_writer_acb81199559faed7e79448ebb651d2250}{
std::ofstream \hyperlink{class_stats_writer_acb81199559faed7e79448ebb651d2250}{\_\-csv\_\-stream}}
\label{class_stats_writer_acb81199559faed7e79448ebb651d2250}

\begin{DoxyCompactList}\small\item\em CSV formatted statistics dump for postprocessing. \end{DoxyCompactList}\item 
\hypertarget{class_stats_writer_a9b9dc8d05db5a5dcd3631153745baee8}{
enum StatsWriter:: \{ ... \}  {\bfseries \_\-state}}
\label{class_stats_writer_a9b9dc8d05db5a5dcd3631153745baee8}

\item 
\hypertarget{class_stats_writer_a865eb25303ebb19dc34d3e450d30474e}{
boost::mutex \hyperlink{class_stats_writer_a865eb25303ebb19dc34d3e450d30474e}{\_\-mutex}}
\label{class_stats_writer_a865eb25303ebb19dc34d3e450d30474e}

\begin{DoxyCompactList}\small\item\em Mutex for serializing multi-\/threaded access to shared resources. \end{DoxyCompactList}\item 
\hypertarget{class_stats_writer_ac159e087049dd1d5270feafe55c9466e}{
struct timeval \hyperlink{class_stats_writer_ac159e087049dd1d5270feafe55c9466e}{\_\-start\_\-time}}
\label{class_stats_writer_ac159e087049dd1d5270feafe55c9466e}

\begin{DoxyCompactList}\small\item\em The time logging was started. \end{DoxyCompactList}\item 
\hypertarget{class_stats_writer_a2cf8cdd745d5ae13acd677889aaf8158}{
struct timeval \hyperlink{class_stats_writer_a2cf8cdd745d5ae13acd677889aaf8158}{\_\-last\_\-time}}
\label{class_stats_writer_a2cf8cdd745d5ae13acd677889aaf8158}

\begin{DoxyCompactList}\small\item\em The most recent statistics update time. \end{DoxyCompactList}\item 
\hypertarget{class_stats_writer_a7adad49dc423bc12048d27266625e5f5}{
double \hyperlink{class_stats_writer_a7adad49dc423bc12048d27266625e5f5}{\_\-average\_\-packet\_\-rate}}
\label{class_stats_writer_a7adad49dc423bc12048d27266625e5f5}

\begin{DoxyCompactList}\small\item\em The exponentially weighted moving average packet rate. \end{DoxyCompactList}\item 
\hypertarget{class_stats_writer_aa3259729a45969d6a17f14a6009ca1a4}{
double \hyperlink{class_stats_writer_aa3259729a45969d6a17f14a6009ca1a4}{\_\-average\_\-byte\_\-rate}}
\label{class_stats_writer_aa3259729a45969d6a17f14a6009ca1a4}

\begin{DoxyCompactList}\small\item\em The exponentially weighted moving average byte rate. \end{DoxyCompactList}\item 
boost::uint64\_\-t \hyperlink{class_stats_writer_ac80670534878e9ebe11b34284637d32f}{\_\-last\_\-num\_\-packets}
\item 
boost::uint64\_\-t \hyperlink{class_stats_writer_a439f71be2d1560e7382a2174d1d83d0d}{\_\-last\_\-num\_\-bytes}
\item 
long \hyperlink{class_stats_writer_a938a61cbb87e7c29824c99766898efb6}{\_\-interval}
\item 
\hypertarget{class_stats_writer_ae1cdf4969ffcd323bc368227d47f9133}{
const double \hyperlink{class_stats_writer_ae1cdf4969ffcd323bc368227d47f9133}{\_\-ALPHA}}
\label{class_stats_writer_ae1cdf4969ffcd323bc368227d47f9133}

\begin{DoxyCompactList}\small\item\em The parameter used in the exponentially weighted moving average. \end{DoxyCompactList}\item 
\hypertarget{class_stats_writer_ab7b2cc6f988773376a16366b3dae4a31}{
const double \hyperlink{class_stats_writer_ab7b2cc6f988773376a16366b3dae4a31}{\_\-BPS\_\-TO\_\-MBPS}}
\label{class_stats_writer_ab7b2cc6f988773376a16366b3dae4a31}

\begin{DoxyCompactList}\small\item\em A constant that converts from BPS to MBPS. \end{DoxyCompactList}\item 
const int \hyperlink{class_stats_writer_a8d6a8784b4517bd4968bb8b04cbbb205}{\_\-PAGE\_\-LENGTH}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\begin{Desc}
\item[\hyperlink{todo__todo000007}{Todo}]Track this down and fix. \end{Desc}
This class maintains counters, averages, etc. for tracking the statistics of a monitored object. The monitored object periodically calls the \hyperlink{class_stats_writer_a7b73b711a050b4bd17fe7489db8231d4}{update()} method which then updates the statistics counters etc. and then updates instantaneous, exponentially averaged, and long term statistics. Periodically, the data are written out to a CSV file with a name that is unique to the monitored object. 

Definition at line 50 of file stats\_\-writer.h.



\subsection{Constructor \& Destructor Documentation}
\hypertarget{class_stats_writer_ab5936cac54f3266df9a91cf0c370e291}{
\index{StatsWriter@{StatsWriter}!StatsWriter@{StatsWriter}}
\index{StatsWriter@{StatsWriter}!StatsWriter@{StatsWriter}}
\subsubsection[{StatsWriter}]{\setlength{\rightskip}{0pt plus 5cm}StatsWriter::StatsWriter (
\begin{DoxyParamCaption}
\item[{const int}]{id, }
\item[{const std::string \&}]{stats\_\-file, }
\item[{const int}]{stats\_\-interval, }
\item[{const double}]{command\_\-interval}
\end{DoxyParamCaption}
)}}
\label{class_stats_writer_ab5936cac54f3266df9a91cf0c370e291}
Constructor. 
\begin{DoxyParams}{Parameters}
{\em id} & A unique id for this object. Used for logging. \\
\hline
{\em stats\_\-file} & The name of the statistics CSV file. \\
\hline
{\em command\_\-interval} & The main executin thread in \hyperlink{class_stats_writer_adae8b6f9a5172be2f18d2cbdcb1700b0}{run()} will attempt to check for new commands every command\_\-interval seconds. The actual interval between checks may be larger than this if the execution thread spends longer than command\_\-interval processing individual tasks. \\
\hline
\end{DoxyParams}


Definition at line 44 of file stats\_\-writer.cc.


\begin{DoxyCode}
                                           :
  Threaded(id, command_interval),
  _stats_interval(stats_interval),
  _num_packets(0),
  _num_bytes(0),
  _dropped_packets(0),
  _buffer_size(0),
  _stats_stream(),
  _csv_stream(),
  _state(IDLE),
  _mutex(),
  _average_packet_rate(0),
  _average_byte_rate(0),
  _last_num_packets(0),
  _last_num_bytes(0),
  _interval(0),
  _ALPHA(DEFAULT_ALPHA),
  _BPS_TO_MBPS(8/1e6),
  _PAGE_LENGTH(10)
{
  const std::string stats_stream_name = stats_file + std::string(".sts");
  _stats_stream.open(stats_stream_name.c_str(),
             std::fstream::out | std::fstream::trunc);

  const std::string csv_stream_name = stats_file + std::string(".csv");
  _csv_stream.open(csv_stream_name.c_str(),
           std::fstream::out | std::fstream::trunc);
}
\end{DoxyCode}


\subsection{Member Function Documentation}
\hypertarget{class_stats_writer_abb59955e991765cd648bf65c58749f4f}{
\index{StatsWriter@{StatsWriter}!cmd\_\-stop@{cmd\_\-stop}}
\index{cmd\_\-stop@{cmd\_\-stop}!StatsWriter@{StatsWriter}}
\subsubsection[{cmd\_\-stop}]{\setlength{\rightskip}{0pt plus 5cm}void StatsWriter::cmd\_\-stop (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{class_stats_writer_abb59955e991765cd648bf65c58749f4f}
External API command. Insert a STOP command into the object's command queue for processing. 

Implements \hyperlink{class_threaded_a52a40998cd6f4b995ceaba12899b4212}{Threaded}.



Definition at line 133 of file stats\_\-writer.cc.


\begin{DoxyCode}
                           {
  LOG4CXX_INFO(logger, "Received STOP");
  _state = STOP;
}
\end{DoxyCode}
\hypertarget{class_stats_writer_a4749a7810223ed2b49340fe8aa0b92af}{
\index{StatsWriter@{StatsWriter}!cmd\_\-write\_\-to\_\-disk@{cmd\_\-write\_\-to\_\-disk}}
\index{cmd\_\-write\_\-to\_\-disk@{cmd\_\-write\_\-to\_\-disk}!StatsWriter@{StatsWriter}}
\subsubsection[{cmd\_\-write\_\-to\_\-disk}]{\setlength{\rightskip}{0pt plus 5cm}void StatsWriter::cmd\_\-write\_\-to\_\-disk (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{class_stats_writer_a4749a7810223ed2b49340fe8aa0b92af}
External API command. Insert a WRITE\_\-TO\_\-DISK command into the object's command queue for processing. 

Definition at line 138 of file stats\_\-writer.cc.


\begin{DoxyCode}
                                    {
  LOG4CXX_INFO(logger, "Received WRITE_TO_DISK");
  _state = WRITE_TO_DISK;
}
\end{DoxyCode}
\hypertarget{class_stats_writer_aa3fbb751b426a75bb161a52f06d74803}{
\index{StatsWriter@{StatsWriter}!handle\_\-stop@{handle\_\-stop}}
\index{handle\_\-stop@{handle\_\-stop}!StatsWriter@{StatsWriter}}
\subsubsection[{handle\_\-stop}]{\setlength{\rightskip}{0pt plus 5cm}void StatsWriter::handle\_\-stop (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected, virtual\mbox{]}}}}
\label{class_stats_writer_aa3fbb751b426a75bb161a52f06d74803}
Command handler. Handles the STOP command/state. On receiving this command, the \hyperlink{class_file_writer}{FileWriter} object will stop processing and exit the \hyperlink{class_stats_writer_adae8b6f9a5172be2f18d2cbdcb1700b0}{run()} method at the next opportunity. 

Implements \hyperlink{class_threaded_a421b31c46443970af90b8fa1df8ea141}{Threaded}.



Definition at line 143 of file stats\_\-writer.cc.


\begin{DoxyCode}
                              {
  _running = false;
}
\end{DoxyCode}
\hypertarget{class_stats_writer_a7d25c32ff0f971c9bf04f595eb70c9a0}{
\index{StatsWriter@{StatsWriter}!handle\_\-write\_\-to\_\-disk@{handle\_\-write\_\-to\_\-disk}}
\index{handle\_\-write\_\-to\_\-disk@{handle\_\-write\_\-to\_\-disk}!StatsWriter@{StatsWriter}}
\subsubsection[{handle\_\-write\_\-to\_\-disk}]{\setlength{\rightskip}{0pt plus 5cm}void StatsWriter::handle\_\-write\_\-to\_\-disk (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected, virtual\mbox{]}}}}
\label{class_stats_writer_a7d25c32ff0f971c9bf04f595eb70c9a0}
Command handler. Handles the WRITE\_\-TO\_\-DISK command/state. On receiving this command, the \hyperlink{class_stats_writer}{StatsWriter} object will start tracking statistics, and periodically updating them, and writing them to disk. 

Definition at line 151 of file stats\_\-writer.cc.


\begin{DoxyCode}
                                       {
  struct timeval end_time;
  struct timeval diff, instant_diff;

  // Cache stats variables.
  boost::uint64_t num_packets;
  boost::uint64_t num_bytes;
  {
    boost::mutex::scoped_lock lock(_mutex);
    num_packets = _num_packets;
    num_bytes = _num_bytes;
  }

  // Update time variables.
  if (_start_time.tv_sec == 0) {
    gettimeofday(&_start_time, NULL);
  }
  gettimeofday(&end_time, NULL);

  // Elapsed _interval.
  timersub(&end_time, &_start_time, &diff);
  timersub(&end_time, &_last_time, &instant_diff);

  const double delta_seconds = diff.tv_sec + diff.tv_usec/1000000.0;
  const double instant_delta_seconds = instant_diff.tv_sec
    + instant_diff.tv_usec/1000000.0;
  const double instant_packet_rate = (num_packets - _last_num_packets)
    /instant_delta_seconds;
  const double instant_byte_rate = _BPS_TO_MBPS*(num_bytes - _last_num_bytes)
    /instant_delta_seconds;
  const double lifetime_packet_rate = num_packets/delta_seconds;
  const double lifetime_byte_rate = _BPS_TO_MBPS*num_bytes/delta_seconds;
  const double average_buffer_size = _buffer_size/delta_seconds;
  const double instant_drop_rate = _dropped_packets/delta_seconds;

  _average_packet_rate = (1.0-_ALPHA)*_average_packet_rate
    + _ALPHA*instant_packet_rate;
  _average_byte_rate = (1.0-_ALPHA)*_average_byte_rate
    + _ALPHA*instant_byte_rate;

  if (_interval % _PAGE_LENGTH == 0) {
    _stats_stream
      << HLINE
      << std::endl
      << "|"
      << std::setw(10) << "time" << " "
      << std::setw(10) << "pkt rate" << " "
      << std::setw(10) << "pkt rate"   << " "
      << std::setw(10) << "pkt rate"  << " "
      << "|"
      << std::setw(10) << "mbps" << " "
      << std::setw(10) << "mbps"   << " "
      << std::setw(10) << "mbps"  << " "
      << "|\n"
      << "|"
      << std::setw(10) << "(s)" << " "
      << std::setw(10) << "(inst)" << " "
      << std::setw(10) << "(lifetime)"   << " "
      << std::setw(10) << "(average)"  << " "
      << "|"
      << std::setw(10) << "(inst)" << " "
      << std::setw(10) << "(lifetime)"   << " "
      << std::setw(10) << "(average)"  << " "
      << "|\n"
      << HLINE
      << std::endl;
  }
  ++_interval;

  _stats_stream
    << "|"
    << std::setw(10) << delta_seconds << " "
    << std::setw(10) << instant_packet_rate << " "
    << std::setw(10) << lifetime_packet_rate << " "
    << std::setw(10) << _average_packet_rate << " "
    << "|"
    << std::setw(10) << instant_byte_rate << " "
    << std::setw(10) << lifetime_byte_rate << " "
    << std::setw(10) << _average_byte_rate << " "
    << "|\n";
  
  _csv_stream
    <<  delta_seconds << ","
    <<  instant_packet_rate << ","
    <<  lifetime_packet_rate << ","
    <<  _average_packet_rate << ","
    <<  instant_byte_rate << ","
    <<  lifetime_byte_rate << ","
    <<  _average_byte_rate << ","
    << instant_drop_rate << ","
    << average_buffer_size
    << std::endl;
  
  _dropped_packets = 0;
  _buffer_size = 0;

  // Update state.
  gettimeofday(&_last_time, NULL);
  _last_num_packets = num_packets;
  _last_num_bytes = num_bytes;

  sleep(_stats_interval);
}
\end{DoxyCode}
\hypertarget{class_stats_writer_a7b73b711a050b4bd17fe7489db8231d4}{
\index{StatsWriter@{StatsWriter}!update@{update}}
\index{update@{update}!StatsWriter@{StatsWriter}}
\subsubsection[{update}]{\setlength{\rightskip}{0pt plus 5cm}void StatsWriter::update (
\begin{DoxyParamCaption}
\item[{const boost::uint64\_\-t \&}]{packets, }
\item[{const boost::uint64\_\-t \&}]{bytes, }
\item[{const boost::uint64\_\-t \&}]{dropped\_\-packets, }
\item[{const boost::uint64\_\-t \&}]{buffer\_\-size}
\end{DoxyParamCaption}
)}}
\label{class_stats_writer_a7b73b711a050b4bd17fe7489db8231d4}
Custom API. Update statistics. 
\begin{DoxyParams}{Parameters}
{\em packets} & The total number of packets that have been processed so far. \\
\hline
{\em bytes} & The total number of bytes that have been processed so far. \\
\hline
\end{DoxyParams}


Definition at line 255 of file stats\_\-writer.cc.


\begin{DoxyCode}
                                               {
  boost::mutex::scoped_lock lock(_mutex);
  _num_packets += packets;
  _num_bytes += bytes;
  _dropped_packets += dropped_packets;
  _buffer_size = buffer_size;
}
\end{DoxyCode}


\subsection{Member Data Documentation}
\hypertarget{class_stats_writer_a938a61cbb87e7c29824c99766898efb6}{
\index{StatsWriter@{StatsWriter}!\_\-interval@{\_\-interval}}
\index{\_\-interval@{\_\-interval}!StatsWriter@{StatsWriter}}
\subsubsection[{\_\-interval}]{\setlength{\rightskip}{0pt plus 5cm}long {\bf StatsWriter::\_\-interval}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{class_stats_writer_a938a61cbb87e7c29824c99766898efb6}
The \char`\"{}number\char`\"{} of the current measurement interval. Used for formatting purposes. Every time statistics information is output, interval is incremented. 

Definition at line 151 of file stats\_\-writer.h.

\hypertarget{class_stats_writer_a439f71be2d1560e7382a2174d1d83d0d}{
\index{StatsWriter@{StatsWriter}!\_\-last\_\-num\_\-bytes@{\_\-last\_\-num\_\-bytes}}
\index{\_\-last\_\-num\_\-bytes@{\_\-last\_\-num\_\-bytes}!StatsWriter@{StatsWriter}}
\subsubsection[{\_\-last\_\-num\_\-bytes}]{\setlength{\rightskip}{0pt plus 5cm}boost::uint64\_\-t {\bf StatsWriter::\_\-last\_\-num\_\-bytes}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{class_stats_writer_a439f71be2d1560e7382a2174d1d83d0d}
The number of bytes that had been processed at the last statistics update. 

Definition at line 146 of file stats\_\-writer.h.

\hypertarget{class_stats_writer_ac80670534878e9ebe11b34284637d32f}{
\index{StatsWriter@{StatsWriter}!\_\-last\_\-num\_\-packets@{\_\-last\_\-num\_\-packets}}
\index{\_\-last\_\-num\_\-packets@{\_\-last\_\-num\_\-packets}!StatsWriter@{StatsWriter}}
\subsubsection[{\_\-last\_\-num\_\-packets}]{\setlength{\rightskip}{0pt plus 5cm}boost::uint64\_\-t {\bf StatsWriter::\_\-last\_\-num\_\-packets}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{class_stats_writer_ac80670534878e9ebe11b34284637d32f}
The number of packets that had been processed at the last statistics update. 

Definition at line 142 of file stats\_\-writer.h.

\hypertarget{class_stats_writer_a8d6a8784b4517bd4968bb8b04cbbb205}{
\index{StatsWriter@{StatsWriter}!\_\-PAGE\_\-LENGTH@{\_\-PAGE\_\-LENGTH}}
\index{\_\-PAGE\_\-LENGTH@{\_\-PAGE\_\-LENGTH}!StatsWriter@{StatsWriter}}
\subsubsection[{\_\-PAGE\_\-LENGTH}]{\setlength{\rightskip}{0pt plus 5cm}const int {\bf StatsWriter::\_\-PAGE\_\-LENGTH}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{class_stats_writer_a8d6a8784b4517bd4968bb8b04cbbb205}
A formatting constant. Controls how many lines are output to a \char`\"{}page\char`\"{} for the \_\-stats\_\-stream. 

Definition at line 161 of file stats\_\-writer.h.



The documentation for this class was generated from the following files:\begin{DoxyCompactItemize}
\item 
src/net2disk/stats\_\-writer.h\item 
src/net2disk/stats\_\-writer.cc\end{DoxyCompactItemize}
